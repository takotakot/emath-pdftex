% EMesvect.sty by tDB(emath@nifty.com)
%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{EMesvect}[2014/09/03 v0.05]%
%
  \edef\EMesvect@opt{d}
  \DeclareOption{a}{\edef\EMesvect@opt{a}}
  \DeclareOption{b}{\edef\EMesvect@opt{b}}
  \DeclareOption{c}{\edef\EMesvect@opt{c}}
  \DeclareOption{d}{\edef\EMesvect@opt{d}}
  \DeclareOption{e}{\edef\EMesvect@opt{e}}
  \DeclareOption{f}{\edef\EMesvect@opt{f}}
  \DeclareOption{g}{\edef\EMesvect@opt{g}}
  \DeclareOption{h}{\edef\EMesvect@opt{h}}
  \DeclareOption{cm}{%"-" を CM fonts のものとする。(BBS #12489)
    \@ifundefined\em@fonts{\def\em@fonts{0}}{}%
  }% 
  \ProcessOptions\relax
%
\@ifundefined{bekutorukata}{}{\@warning{bekutorukata と esvect.sty の併用はしないほうがよい}}%
\IfFileExists{esvect.sty}{%
  \if d\EMesvect@opt
    \RequirePackage{esvect}%
  \else
    \RequirePackage[\EMesvect@opt]{esvect}%
  \fi
  \let\overrightarrow\vv
%   \let\bekutoru@rightarrow\fldr
  \bekutorusityuu{\vphantom{P}}%%
}{%
  \errmessage{esvect.sty が存在しません。}
}%
%
% esvect パッケージの矢印フォントを用いた \to -------
%\@ifundefined{em@fonts}{%
%  \def\esto{\mathrel{{-}\mkern-11mu\fldr}}%
%}{%
%    \DeclareSymbolFont{cmsymbols}{OMS}{cmsy}{m}{n}
%    \DeclareMathSymbol{\cmminus}{\mathrel}{cmsymbols}{"00}
%    \def\esto{\mathrel{{\cmminus}\mkern-11mu\fldr}}%
%}%
\def\esto{\mathrel{\mathchoice{%
  \montraitd\mkern-2mu\montraitd\mkern-2mu\fldr}{%
  \montraitd\mkern-2mu\montraitd\mkern-2mu\fldr}{%
  \montraitd\mkern-2mu\fldr}{%
  \montraitd\mkern-2mu\fldr}}%
}%
% ---------------------------------------------------
\endinput
%
v 0.00 2006/06/09
v 0.01 2006/10/27 esvect.sty が存在するか否かを確認する。
v 0.02 2007/11/07 \bekutoru@rightarrow の定義を追加（bekutorukata.sty との関係 BBS #6651）
v 0.03 2007/11/12 v0.02 の変更を元に戻す。bekutorukata.sty との併用を拒否
v 0.04 2009/01/22 esvect.sty が存在しない場合は，エラー終了させる
v 0.05 2014/09/03 \to の矢印を esvect にした \esto (BBS #12489)
